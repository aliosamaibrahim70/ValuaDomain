// Language translations
const translations = {
    en: {
        // Navigation and buttons
        'Request Custom Domain': 'Request Custom Domain',
        'Send Request': 'Send Request',
        
        // Hero section
        'ValuaDomain': 'ValuaDomain',
        'Premium Domain Acquisition and Sales Platform': 'Premium Domain Acquisition and Sales Platform',
        'Acquire Premium Domains for Your Business': 'Acquire Premium Domains for Your Business',
        'We specialize in acquiring valuable domains and helping businesses find the perfect domain name for their projects across multiple niches including law, hospitality, and brandable domains.': 'We specialize in acquiring valuable domains and helping businesses find the perfect domain name for their projects across multiple niches including law, hospitality, and brandable domains.',
        
        // About section
        'What We Offer': 'What We Offer',
        'ValuaDomain focuses on three core messages: High Value, Professionalism & Trust, and Simplicity & Clarity. We help you find premium domains that elevate your brand.': 'ValuaDomain focuses on three core messages: High Value, Professionalism & Trust, and Simplicity & Clarity. We help you find premium domains that elevate your brand.',
        'High Value': 'High Value',
        'Premium domains that add significant value to your brand and business presence.': 'Premium domains that add significant value to your brand and business presence.',
        'Professional & Trust': 'Professional & Trust',
        'Reliable service with professional expertise in domain acquisition and sales.': 'Reliable service with professional expertise in domain acquisition and sales.',
        'Simple & Clear': 'Simple & Clear',
        'Straightforward process with clear communication and transparent pricing.': 'Straightforward process with clear communication and transparent pricing.',
        
        // Services section
        'Our Services': 'Our Services',
        'Premium Domain Sales': 'Premium Domain Sales',
        'Curated collection of high-value domains across various industries': 'Curated collection of high-value domains across various industries',
        'Custom Domain Search': 'Custom Domain Search',
        'Personalized domain search based on your specific business needs': 'Personalized domain search based on your specific business needs',
        'Domain Consultation': 'Domain Consultation',
        'Expert advice on domain selection and brand strategy': 'Expert advice on domain selection and brand strategy',
        
        // Form section
        'Request Custom Domain': 'Request Custom Domain',
        'Tell us about your ideal domain and we\'ll help you find it': 'Tell us about your ideal domain and we\'ll help you find it',
        'Domain Description': 'Domain Description',
        'Describe the domain you\'re looking for...': 'Describe the domain you\'re looking for...',
        'Business Niche': 'Business Niche',
        'e.g., Law, Hotels, Technology...': 'e.g., Law, Hotels, Technology...',
        'Preferred Extension': 'Preferred Extension',
        'Select extension': 'Select extension',
        'Other': 'Other',
        'Maximum Words': 'Maximum Words',
        'e.g., 2': 'e.g., 2',
        'Maximum Characters': 'Maximum Characters',
        'e.g., 15': 'e.g., 15',
        'Domain Type': 'Domain Type',
        'Select domain type': 'Select domain type',
        'New Domain': 'New Domain',
        'Aged Domain': 'Aged Domain',
        'Contact Information': 'Contact Information',
        'Your email or phone number': 'Your email or phone number',
        
        // Contact section
        'Contact Us': 'Contact Us',
        'Get in touch with our domain experts': 'Get in touch with our domain experts',
        'Email': 'Email',
        'WhatsApp': 'WhatsApp',
        'Service': 'Service',
        'Global Service': 'Global Service',
        
        // Footer
        '© 2024 ValuaDomain. All rights reserved.': '© 2024 ValuaDomain. All rights reserved.',
        
        // Messages
        'Thank you for your request! We will contact you soon.': 'Thank you for your request! We will contact you soon.',
        'Please fill in all required fields.': 'Please fill in all required fields.',
        'There was an error sending your request. Please try again.': 'There was an error sending your request. Please try again.'
    },
    
    ar: {
        // Navigation and buttons
        'Request Custom Domain': 'اطلب دومين مخصص',
        'Send Request': 'إرسال الطلب',
        
        // Hero section
        'ValuaDomain': 'فاليو دومين',
        'Premium Domain Acquisition and Sales Platform': 'منصة احترافية لاقتناء وبيع الدومينات المميزة',
        'Acquire Premium Domains for Your Business': 'احصل على دومينات مميزة لمشروعك',
        'We specialize in acquiring valuable domains and helping businesses find the perfect domain name for their projects across multiple niches including law, hospitality, and brandable domains.': 'نحن متخصصون في اقتناء الدومينات القيمة ومساعدة الشركات في العثور على اسم الدومين المثالي لمشاريعهم عبر مجالات متعددة بما في ذلك القانون والضيافة والدومينات القابلة للعلامة التجارية.',
        
        // About section
        'What We Offer': 'ما نقدمه',
        'ValuaDomain focuses on three core messages: High Value, Professionalism & Trust, and Simplicity & Clarity. We help you find premium domains that elevate your brand.': 'فاليو دومين يركز على ثلاث رسائل أساسية: القيمة العالية، الاحترافية والثقة، والبساطة والوضوح. نساعدك في العثور على دومينات مميزة ترفع من مستوى علامتك التجارية.',
        'High Value': 'القيمة العالية',
        'Premium domains that add significant value to your brand and business presence.': 'دومينات مميزة تضيف قيمة كبيرة لعلامتك التجارية وحضورك التجاري.',
        'Professional & Trust': 'الاحترافية والثقة',
        'Reliable service with professional expertise in domain acquisition and sales.': 'خدمة موثوقة مع خبرة مهنية في اقتناء وبيع الدومينات.',
        'Simple & Clear': 'البساطة والوضوح',
        'Straightforward process with clear communication and transparent pricing.': 'عملية مباشرة مع تواصل واضح وأسعار شفافة.',
        
        // Services section
        'Our Services': 'خدماتنا',
        'Premium Domain Sales': 'بيع الدومينات المميزة',
        'Curated collection of high-value domains across various industries': 'مجموعة منتقاة من الدومينات عالية القيمة عبر صناعات مختلفة',
        'Custom Domain Search': 'البحث المخصص عن الدومينات',
        'Personalized domain search based on your specific business needs': 'بحث شخصي عن الدومينات بناءً على احتياجات عملك المحددة',
        'Domain Consultation': 'استشارات الدومينات',
        'Expert advice on domain selection and brand strategy': 'نصائح خبراء حول اختيار الدومين واستراتيجية العلامة التجارية',
        
        // Form section
        'Request Custom Domain': 'اطلب دومين مخصص',
        'Tell us about your ideal domain and we\'ll help you find it': 'أخبرنا عن الدومين المثالي لك وسنساعدك في العثور عليه',
        'Domain Description': 'وصف الدومين',
        'Describe the domain you\'re looking for...': 'صف الدومين الذي تبحث عنه...',
        'Business Niche': 'مجال العمل',
        'e.g., Law, Hotels, Technology...': 'مثال: القانون، الفنادق، التكنولوجيا...',
        'Preferred Extension': 'الامتداد المفضل',
        'Select extension': 'اختر الامتداد',
        'Other': 'أخرى',
        'Maximum Words': 'الحد الأقصى للكلمات',
        'e.g., 2': 'مثال: 2',
        'Maximum Characters': 'الحد الأقصى للحروف',
        'e.g., 15': 'مثال: 15',
        'Domain Type': 'نوع الدومين',
        'Select domain type': 'اختر نوع الدومين',
        'New Domain': 'دومين جديد',
        'Aged Domain': 'دومين قديم',
        'Contact Information': 'معلومات الاتصال',
        'Your email or phone number': 'بريدك الإلكتروني أو رقم هاتفك',
        
        // Contact section
        'Contact Us': 'اتصل بنا',
        'Get in touch with our domain experts': 'تواصل مع خبراء الدومينات لدينا',
        'Email': 'البريد الإلكتروني',
        'WhatsApp': 'واتساب',
        'Service': 'الخدمة',
        'Global Service': 'خدمة عالمية',
        
        // Footer
        '© 2024 ValuaDomain. All rights reserved.': '© 2024 فاليو دومين. جميع الحقوق محفوظة.',
        
        // Messages
        'Thank you for your request! We will contact you soon.': 'شكراً لطلبك! سنتواصل معك قريباً.',
        'Please fill in all required fields.': 'يرجى ملء جميع الحقول المطلوبة.',
        'There was an error sending your request. Please try again.': 'حدث خطأ في إرسال طلبك. يرجى المحاولة مرة أخرى.'
    },
    
    fr: {
        // Navigation and buttons
        'Request Custom Domain': 'Demander un Domaine Personnalisé',
        'Send Request': 'Envoyer la Demande',
        
        // Hero section
        'ValuaDomain': 'ValuaDomain',
        'Premium Domain Acquisition and Sales Platform': 'Plateforme Professionnelle d\'Acquisition et de Vente de Domaines Premium',
        'Acquire Premium Domains for Your Business': 'Acquérez des Domaines Premium pour Votre Entreprise',
        'We specialize in acquiring valuable domains and helping businesses find the perfect domain name for their projects across multiple niches including law, hospitality, and brandable domains.': 'Nous nous spécialisons dans l\'acquisition de domaines de valeur et aidons les entreprises à trouver le nom de domaine parfait pour leurs projets dans plusieurs niches, y compris le droit, l\'hôtellerie et les domaines de marque.',
        
        // About section
        'What We Offer': 'Ce Que Nous Offrons',
        'ValuaDomain focuses on three core messages: High Value, Professionalism & Trust, and Simplicity & Clarity. We help you find premium domains that elevate your brand.': 'ValuaDomain se concentre sur trois messages fondamentaux : Haute Valeur, Professionnalisme et Confiance, et Simplicité et Clarté. Nous vous aidons à trouver des domaines premium qui élèvent votre marque.',
        'High Value': 'Haute Valeur',
        'Premium domains that add significant value to your brand and business presence.': 'Domaines premium qui ajoutent une valeur significative à votre marque et présence commerciale.',
        'Professional & Trust': 'Professionnalisme et Confiance',
        'Reliable service with professional expertise in domain acquisition and sales.': 'Service fiable avec une expertise professionnelle en acquisition et vente de domaines.',
        'Simple & Clear': 'Simplicité et Clarté',
        'Straightforward process with clear communication and transparent pricing.': 'Processus simple avec une communication claire et des prix transparents.',
        
        // Services section
        'Our Services': 'Nos Services',
        'Premium Domain Sales': 'Vente de Domaines Premium',
        'Curated collection of high-value domains across various industries': 'Collection sélectionnée de domaines de haute valeur dans diverses industries',
        'Custom Domain Search': 'Recherche de Domaine Personnalisée',
        'Personalized domain search based on your specific business needs': 'Recherche personnalisée de domaines basée sur vos besoins commerciaux spécifiques',
        'Domain Consultation': 'Consultation de Domaines',
        'Expert advice on domain selection and brand strategy': 'Conseils d\'experts sur la sélection de domaines et la stratégie de marque',
        
        // Form section
        'Request Custom Domain': 'Demander un Domaine Personnalisé',
        'Tell us about your ideal domain and we\'ll help you find it': 'Parlez-nous de votre domaine idéal et nous vous aiderons à le trouver',
        'Domain Description': 'Description du Domaine',
        'Describe the domain you\'re looking for...': 'Décrivez le domaine que vous recherchez...',
        'Business Niche': 'Niche d\'Affaires',
        'e.g., Law, Hotels, Technology...': 'ex: Droit, Hôtels, Technologie...',
        'Preferred Extension': 'Extension Préférée',
        'Select extension': 'Sélectionner l\'extension',
        'Other': 'Autre',
        'Maximum Words': 'Mots Maximum',
        'e.g., 2': 'ex: 2',
        'Maximum Characters': 'Caractères Maximum',
        'e.g., 15': 'ex: 15',
        'Domain Type': 'Type de Domaine',
        'Select domain type': 'Sélectionner le type de domaine',
        'New Domain': 'Nouveau Domaine',
        'Aged Domain': 'Domaine Ancien',
        'Contact Information': 'Informations de Contact',
        'Your email or phone number': 'Votre email ou numéro de téléphone',
        
        // Contact section
        'Contact Us': 'Contactez-Nous',
        'Get in touch with our domain experts': 'Entrez en contact avec nos experts en domaines',
        'Email': 'Email',
        'WhatsApp': 'WhatsApp',
        'Service': 'Service',
        'Global Service': 'Service Mondial',
        
        // Footer
        '© 2024 ValuaDomain. All rights reserved.': '© 2024 ValuaDomain. Tous droits réservés.',
        
        // Messages
        'Thank you for your request! We will contact you soon.': 'Merci pour votre demande ! Nous vous contacterons bientôt.',
        'Please fill in all required fields.': 'Veuillez remplir tous les champs requis.',
        'There was an error sending your request. Please try again.': 'Il y a eu une erreur lors de l\'envoi de votre demande. Veuillez réessayer.'
    }
};

// Current language
let currentLanguage = 'en';

// DOM elements
const languageSelect = document.getElementById('languageSelect');
const domainForm = document.getElementById('domainForm');

// Initialize the website
document.addEventListener('DOMContentLoaded', function() {
    // Set up language selector
    languageSelect.addEventListener('change', changeLanguage);
    
    // Set up form submission
    domainForm.addEventListener('submit', handleFormSubmission);
    
    // Initialize with English
    changeLanguage();
});

// Change language function
function changeLanguage() {
    const selectedLanguage = languageSelect.value;
    currentLanguage = selectedLanguage;
    
    // Update HTML lang and dir attributes
    document.documentElement.lang = selectedLanguage;
    document.documentElement.dir = selectedLanguage === 'ar' ? 'rtl' : 'ltr';
    
    // Update all translatable elements
    updateTranslations();
    
    // Update form placeholders
    updateFormPlaceholders();
}

// Update translations for all elements
function updateTranslations() {
    // Update elements with data attributes
    const elementsWithData = document.querySelectorAll('[data-' + currentLanguage + ']');
    elementsWithData.forEach(element => {
        const translation = element.getAttribute('data-' + currentLanguage);
        if (translation) {
            element.textContent = translation;
        }
    });
    
    // Update select options
    updateSelectOptions();
}

// Update form placeholders
function updateFormPlaceholders() {
    const elementsWithPlaceholder = document.querySelectorAll('[data-placeholder-' + currentLanguage + ']');
    elementsWithPlaceholder.forEach(element => {
        const placeholder = element.getAttribute('data-placeholder-' + currentLanguage);
        if (placeholder) {
            element.placeholder = placeholder;
        }
    });
}

// Update select options
function updateSelectOptions() {
    // Extension select
    const extensionSelect = document.getElementById('extension');
    const extensionOptions = extensionSelect.querySelectorAll('option');
    extensionOptions.forEach(option => {
        const translation = option.getAttribute('data-' + currentLanguage);
        if (translation) {
            option.textContent = translation;
        }
    });
    
    // Domain type select
    const domainTypeSelect = document.getElementById('domainType');
    const domainTypeOptions = domainTypeSelect.querySelectorAll('option');
    domainTypeOptions.forEach(option => {
        const translation = option.getAttribute('data-' + currentLanguage);
        if (translation) {
            option.textContent = translation;
        }
    });
}

// Scroll to form function
function scrollToForm() {
    const formSection = document.getElementById('request-form');
    formSection.scrollIntoView({ 
        behavior: 'smooth',
        block: 'start'
    });
}

// Handle form submission
function handleFormSubmission(event) {
    event.preventDefault();
    
    // Get form data
    const formData = new FormData(domainForm);
    const data = Object.fromEntries(formData.entries());
    
    // Validate required fields
    const requiredFields = ['description', 'niche', 'extension', 'domainType', 'contact'];
    const missingFields = requiredFields.filter(field => !data[field] || data[field].trim() === '');
    
    if (missingFields.length > 0) {
        showMessage(translations[currentLanguage]['Please fill in all required fields.'], 'error');
        return;
    }
    
    // Show loading state
    const submitButton = domainForm.querySelector('.submit-button');
    const originalText = submitButton.innerHTML;
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Sending...</span>';
    submitButton.disabled = true;
    domainForm.classList.add('loading');
    
    // Prepare email content
    const emailSubject = 'New Domain Request from ValuaDomain Website';
    const emailBody = `
New Domain Request Details:

Description: ${data.description}
Business Niche: ${data.niche}
Preferred Extension: ${data.extension}
Maximum Words: ${data.maxWords || 'Not specified'}
Maximum Characters: ${data.maxChars || 'Not specified'}
Domain Type: ${data.domainType}
Contact Information: ${data.contact}

Language: ${currentLanguage.toUpperCase()}
Timestamp: ${new Date().toLocaleString()}
    `.trim();
    
    // Create mailto link
    const mailtoLink = `mailto:Ali.elbarbary@valuadomain.com?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;
    
    // Simulate sending delay
    setTimeout(() => {
        // Open email client
        window.location.href = mailtoLink;
        
        // Reset form and show success message
        domainForm.reset();
        showMessage(translations[currentLanguage]['Thank you for your request! We will contact you soon.'], 'success');
        
        // Reset button state
        submitButton.innerHTML = originalText;
        submitButton.disabled = false;
        domainForm.classList.remove('loading');
    }, 1500);
}

// Show message function
function showMessage(message, type) {
    // Remove existing messages
    const existingMessages = document.querySelectorAll('.success-message, .error-message');
    existingMessages.forEach(msg => msg.remove());
    
    // Create new message element
    const messageElement = document.createElement('div');
    messageElement.className = `${type}-message show`;
    messageElement.textContent = message;
    
    // Insert after form
    domainForm.parentNode.insertBefore(messageElement, domainForm.nextSibling);
    
    // Auto-hide after 5 seconds
    setTimeout(() => {
        messageElement.classList.remove('show');
        setTimeout(() => {
            if (messageElement.parentNode) {
                messageElement.parentNode.removeChild(messageElement);
            }
        }, 300);
    }, 5000);
}

// Smooth scrolling for anchor links
document.addEventListener('click', function(event) {
    if (event.target.matches('a[href^="#"]')) {
        event.preventDefault();
        const targetId = event.target.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    }
});

// Add scroll animations
function addScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe elements for animation
    const animatedElements = document.querySelectorAll('.feature-card, .service-card, .contact-card');
    animatedElements.forEach(element => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(element);
    });
}

// Initialize scroll animations when DOM is loaded
document.addEventListener('DOMContentLoaded', addScrollAnimations);

// Add loading animation for images
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('img');
    images.forEach(img => {
        img.addEventListener('load', function() {
            this.style.opacity = '1';
        });
        
        // Set initial opacity
        img.style.opacity = '0';
        img.style.transition = 'opacity 0.3s ease';
        
        // If image is already loaded
        if (img.complete) {
            img.style.opacity = '1';
        }
    });
});

// Handle window resize for responsive adjustments
window.addEventListener('resize', function() {
    // Add any responsive adjustments here if needed
});

// Add keyboard navigation support
document.addEventListener('keydown', function(event) {
    // ESC key to close any open modals or reset form focus
    if (event.key === 'Escape') {
        document.activeElement.blur();
    }
    
    // Enter key on CTA button
    if (event.key === 'Enter' && event.target.classList.contains('cta-button')) {
        scrollToForm();
    }
});

// Add form validation enhancements
function enhanceFormValidation() {
    const inputs = domainForm.querySelectorAll('input, select, textarea');
    
    inputs.forEach(input => {
        // Add real-time validation feedback
        input.addEventListener('blur', function() {
            validateField(this);
        });
        
        input.addEventListener('input', function() {
            // Clear error state on input
            this.classList.remove('error');
        });
    });
}

// Validate individual field
function validateField(field) {
    const value = field.value.trim();
    const isRequired = field.hasAttribute('required');
    
    if (isRequired && !value) {
        field.classList.add('error');
        return false;
    }
    
    // Email validation
    if (field.type === 'email' && value) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)) {
            field.classList.add('error');
            return false;
        }
    }
    
    // Phone validation (basic)
    if (field.name === 'contact' && value) {
        const phoneRegex = /^[\+]?[0-9\s\-\(\)]{10,}$/;
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!phoneRegex.test(value) && !emailRegex.test(value)) {
            field.classList.add('error');
            return false;
        }
    }
    
    field.classList.remove('error');
    return true;
}

// Initialize form validation when DOM is loaded
document.addEventListener('DOMContentLoaded', enhanceFormValidation);

